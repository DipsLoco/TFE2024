{% extends 'base.html' %}
{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-lg rounded-lg border-0">
                <div class="card-header bg-primary text-white text-center rounded-top">
                    <h3>Réinitialiser le mot de passe</h3>
                </div>
                <div class="card-body bg-light">
                    {% if messages %}
                        <div class="alert alert-success">
                            {% for message in messages %}
                                <p>{{ message }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                    <form method="POST">
                        {% csrf_token %}
                        
                        <!-- Liste déroulante des utilisateurs -->
                        <div class="form-group">
                            <label for="user_select"><i class="fas fa-user-shield"></i> Sélectionner un utilisateur</label>
                            <select name="user_select" id="user_select" class="form-control form-control-lg" required>
                                <option value="" selected disabled>-- Sélectionner un utilisateur --</option>
                                
                                <!-- Section Administrateurs -->
                                <optgroup label="Administrateurs">
                                    {% for user in users_admin %}
                                        <option value="{{ user.id }}">{{ user.username }}</option>
                                    {% endfor %}
                                </optgroup>

                                <!-- Section Coachs -->
                                <optgroup label="Coachs">
                                    {% for user in users_coach %}
                                        <option value="{{ user.id }}">{{ user.username }}</option>
                                    {% endfor %}
                                </optgroup>

                                <!-- Section Membres -->
                                <optgroup label="Membres">
                                    {% for user in users_member %}
                                        <option value="{{ user.id }}">{{ user.username }}</option>
                                    {% endfor %}
                                </optgroup>
                            </select>
                        </div>

                        <!-- Nouveau mot de passe -->
                        <div class="form-group">
                            <label for="new_password1"><i class="fas fa-key"></i> Nouveau mot de passe</label>
                            <input type="password" name="new_password1" id="new_password1" class="form-control form-control-lg" required>
                        </div>

                        <!-- Confirmer le mot de passe -->
                        <div class="form-group">
                            <label for="new_password2"><i class="fas fa-key"></i> Confirmer le mot de passe</label>
                            <input type="password" name="new_password2" id="new_password2" class="form-control form-control-lg" required>
                        </div>

                        <!-- Bouton de soumission -->
                        <button type="submit" class="btn btn-success btn-lg btn-block mt-3">Réinitialiser le mot de passe</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <br><br><br><br><br><br><br><br><br>
</div>

<style>
/* Personnalisation générale de la page */
.card {
    border-radius: 10px;
}

.card-header {
    border-radius: 10px 10px 0 0;
    font-weight: bold;
    text-transform: uppercase;
}

.card-body {
    padding: 2rem;
}

/* Bouton "Réinitialiser le mot de passe" */
.btn-success {
    background-color: #28a745; /* Couleur verte plus forte */
    border-color: #28a745;
    font-size: 1.1rem;
    padding: 15px 25px;
    width: 100%;
    text-align: center;
    transition: background-color 0.3s ease;
}

.btn-success:hover {
    background-color: #218838; /* Couleur au survol */
}

/* Personnalisation des champs de saisie */
.form-control {
    border-radius: 5px;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
    padding: 15px;
}

.form-control-lg {
    font-size: 1.1rem;
    padding: 15px;
}

.input-group-text {
    cursor: pointer;
}

/* Ajout des icônes dans les labels */
label {
    font-size: 1.1rem;
    font-weight: 500;
}

label i {
    margin-right: 8px;
    color: #007bff;
}

/* Personnalisation de l'alerte de succès */
.alert-success {
    margin-bottom: 20px;
    font-size: 16px;
    background-color: #d4edda;
    color: #155724;
    border-color: #c3e6cb;
}

/* Liste déroulante avec section */
select {
    border-radius: 5px;
    font-size: 1.1rem;
    padding: 10px;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
}

/* Animation de la page */
.container {
    animation: fadeIn 1s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}
</style>

{% endblock %}
